<!-- Badge סטטוס התחברות קבוע למעלה -->
<button
  class="auth-badge"
  [class.logged-in]="auth.isLoggedIn"
  [class.logged-out]="!auth.isLoggedIn">
  {{ auth.isLoggedIn ? 'משתמש מחובר' : 'משתמש לא מחובר' }}
</button>

<div class="clock">
  <h1>
    HUNDREDS ARE HELD <span class="hostage">HOSTAGE</span> BY HAMAS
    07/10/2023<br />
    {{ passedDays }} days, {{ passedHours }} hours, {{ passedMinutes }} minutes,
    {{ passedSeconds }} seconds
  </h1>
</div>

<!-- כשלא מחובר/ת: התחברות + הרשמה מתחת -->
<div *ngIf="!auth.isLoggedIn" class="card login" id="loginBox">
  <!-- Login -->
  <h3>Login</h3>
  <form (ngSubmit)="submit()">
    <label>Email</label>
    <input type="email" [(ngModel)]="email" name="email" required />

    <label>Password</label>
    <input type="password" [(ngModel)]="password" name="password" required />

    <button type="submit" [disabled]="loading">Sign in</button>
    <div class="error" *ngIf="error">{{ error }}</div>
  </form>

  <hr class="sep" />

  <!-- Register -->
  <p class="muted" style="margin:8px 0 4px;">Not registered? Sign up below!</p>
  <h3>Register</h3>
  <form (ngSubmit)="submitRegister()">
    <label>Name</label>
    <input type="text" [(ngModel)]="regName" name="regName" required />

    <label>Email</label>
    <input type="email" [(ngModel)]="regEmail" name="regEmail" required />

    <label>Password</label>
    <input type="password" [(ngModel)]="regPassword" name="regPassword" required />

    <label>Role</label>
    <select [(ngModel)]="regRole" name="regRole">
      <option value="user">user</option>
      <option value="admin">admin</option>
    </select>

    <button type="submit" [disabled]="regLoading">Create account</button>
    <div class="error" *ngIf="regError">{{ regError }}</div>
    <div class="ok" *ngIf="regOk">{{ regOk }}</div>
  </form>
</div>

<!-- כשמחובר/ת -->
<div *ngIf="auth.isLoggedIn" class="card logged">
  <p>Hello, <b>{{ auth.user?.name }}</b> ({{ auth.user?.role }})</p>
  <nav class="actions">
    <a routerLink="/fruits">Fruits</a>
    <a routerLink="/vegetables">Vegetables</a>
    <a routerLink="/cart">Cart</a>
    <a *ngIf="auth.isAdmin" routerLink="/add-product">Add Product (Admin)</a>
  </nav>
  <button (click)="logout()">Logout</button>
</div>

<div class="footer">
  <h2>it's the footer</h2>
</div>
