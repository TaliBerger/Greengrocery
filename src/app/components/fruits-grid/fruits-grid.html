<h1>Fruits Section</h1>
<p>All prices are per kilogram</p>

<div class="fruit-grid">
  <div *ngFor="let p of fruits; trackBy: track" class="fruit-item card">
    <div class="image-wrap">
      <img
        [src]="p.imageUrl"
        [alt]="p.name"
        loading="lazy"
        (error)="onImgError($event, p)"
      />
    </div>

    <h3>{{ p.name }}</h3>
    <p class="price">{{ p.price | number:'1.2-2' }}$</p>
    <a [href]="p.link" target="_blank" rel="noopener noreferrer">Learn more</a>

    <div class="qty-overlay">
      <button type="button" (click)="decQty(p)">âˆ’</button>
      <input
        type="number"
        [value]="qtyInput[keyOf(p)] || 1"
        min="1"
        (input)="onQtyInput(p, $any($event.target).value)"
      />
      <button type="button" (click)="incQty(p)">+</button>
    </div>

    <button type="button" (click)="confirmQty(p)">
      Add to Cart ({{ qtyInput[keyOf(p)] || 1 }})
    </button>
  </div>
</div>
